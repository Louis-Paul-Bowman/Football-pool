import{s as Me,h as R,n as Pe,e as J,b as Ve,d as We}from"../chunks/scheduler.hKD0eBq_.js";import{S as Ge,i as Be,e as v,s as V,r as L,c as y,j,k as G,u as H,f as h,b as g,d as $,m as w,B as Y,t as D,z as Z,a as B,y as x,x as X,g as fe,C as Oe,q as ee,D as ge,h as te,l as le,n as re,o as se,A as Ue,p as qe}from"../chunks/index.CuVcAe-p.js";import{e as F,u as Ae,o as ze}from"../chunks/each.BNEHTTNV.js";import{t as K,f as Le,X as He,C as Je,s as ce}from"../chunks/x.7a-Yn-t5.js";import{g as Xe}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.1kozmAgv.js";import{T as Fe,a as Ke}from"../chunks/Tab.BApwU2Qd.js";function Qe(s){let e,l;return{c(){e=v("p"),l=L(s[5]),this.h()},l(t){e=y(t,"P",{class:!0});var r=j(e);l=H(r,s[5]),r.forEach(h),this.h()},h(){g(e,"class","text-lg font-medium mb-4 text-center")},m(t,r){$(t,e,r),w(e,l)},p:Pe,d(t){t&&h(e)}}}function Re(s){let e,l,t;return{c(){e=v("a"),l=L(s[5]),this.h()},l(r){e=y(r,"A",{class:!0,href:!0,target:!0,rel:!0});var a=j(e);l=H(a,s[5]),a.forEach(h),this.h()},h(){g(e,"class","text-lg font-medium mb-4 text-center block underline"),g(e,"href",t=s[2].link),g(e,"target","_blank"),g(e,"rel","noopener noreferrer")},m(r,a){$(r,e,a),w(e,l)},p(r,a){a&4&&t!==(t=r[2].link)&&g(e,"href",t)},d(r){r&&h(e)}}}function Ye(s){let e,l,t;return{c(){e=v("img"),this.h()},l(r){e=y(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){J(e.src,l=s[12])||g(e,"src",l),g(e,"alt",s[11]+" logo"),g(e,"class",t="w-20 h-20 object-contain "+s[7])},m(r,a){$(r,e,a)},p(r,a){a&128&&t!==(t="w-20 h-20 object-contain "+r[7])&&g(e,"class",t)},d(r){r&&h(e)}}}function Ze(s){let e,l,t,r,a,n;return{c(){e=v("button"),l=v("img"),this.h()},l(o){e=y(o,"BUTTON",{type:!0,"aria-label":!0});var i=j(e);l=y(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(h),this.h()},h(){J(l.src,t=s[12])||g(l,"src",t),g(l,"alt",s[11]+" logo"),g(l,"class",r="w-20 h-20 object-contain "+s[7]),g(e,"type","button"),g(e,"aria-label",s[11]+" logo")},m(o,i){$(o,e,i),w(e,l),a||(n=ee(e,"click",s[14]),a=!0)},p(o,i){i&128&&r!==(r="w-20 h-20 object-contain "+o[7])&&g(l,"class",r)},d(o){o&&h(e),a=!1,n()}}}function xe(s){let e,l,t;return{c(){e=v("img"),this.h()},l(r){e=y(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){J(e.src,l=s[10])||g(e,"src",l),g(e,"alt",s[9]+" logo"),g(e,"class",t="w-20 h-20 object-contain "+s[8])},m(r,a){$(r,e,a)},p(r,a){a&256&&t!==(t="w-20 h-20 object-contain "+r[8])&&g(e,"class",t)},d(r){r&&h(e)}}}function et(s){let e,l,t,r,a,n;return{c(){e=v("button"),l=v("img"),this.h()},l(o){e=y(o,"BUTTON",{type:!0,"aria-label":!0});var i=j(e);l=y(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(h),this.h()},h(){J(l.src,t=s[10])||g(l,"src",t),g(l,"alt",s[9]+" logo"),g(l,"class",r="w-20 h-20 object-contain "+s[8]),g(e,"type","button"),g(e,"aria-label",s[9]+" logo")},m(o,i){$(o,e,i),w(e,l),a||(n=ee(e,"click",s[15]),a=!0)},p(o,i){i&256&&r!==(r="w-20 h-20 object-contain "+o[8])&&g(l,"class",r)},d(o){o&&h(e),a=!1,n()}}}function pe(s){let e,l,t="By",r,a,n=s[0]!==null&&be(s);function o(c,f){return c[3]?lt:tt}let i=o(s),u=i(s);return{c(){n&&n.c(),e=V(),l=v("p"),l.textContent=t,r=V(),u.c(),a=X()},l(c){n&&n.l(c),e=G(c),l=y(c,"P",{"data-svelte-h":!0}),fe(l)!=="svelte-9bqiz3"&&(l.textContent=t),r=G(c),u.l(c),a=X()},m(c,f){n&&n.m(c,f),$(c,e,f),$(c,l,f),$(c,r,f),u.m(c,f),$(c,a,f)},p(c,f){c[0]!==null?n?n.p(c,f):(n=be(c),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),i===(i=o(c))&&u?u.p(c,f):(u.d(1),u=i(c),u&&(u.c(),u.m(a.parentNode,a)))},d(c){c&&(h(e),h(l),h(r),h(a)),n&&n.d(c),u.d(c)}}}function be(s){let e,l=K[s[0]]+"",t;return{c(){e=v("p"),t=L(l)},l(r){e=y(r,"P",{});var a=j(e);t=H(a,l),a.forEach(h)},m(r,a){$(r,e,a),w(e,t)},p(r,a){a&1&&l!==(l=K[r[0]]+"")&&Y(t,l)},d(r){r&&h(e)}}}function tt(s){let e,l;return{c(){e=v("p"),l=L(s[1])},l(t){e=y(t,"P",{});var r=j(e);l=H(r,s[1]),r.forEach(h)},m(t,r){$(t,e,r),w(e,l)},p(t,r){r&2&&Y(l,t[1])},d(t){t&&h(e)}}}function lt(s){let e,l,t;return{c(){e=v("input"),this.h()},l(r){e=y(r,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),this.h()},h(){g(e,"type","number"),g(e,"min","1"),g(e,"max","100"),g(e,"step","1"),g(e,"class","text-black")},m(r,a){$(r,e,a),ge(e,s[1]),l||(t=ee(e,"input",s[16]),l=!0)},p(r,a){a&2&&Oe(e.value)!==r[1]&&ge(e,r[1])},d(r){r&&h(e),l=!1,t()}}}function ke(s){let e,l,t,r;const a=[st,rt],n=[];function o(i,u){return i[0]===i[6]?0:1}return l=o(s),t=n[l]=a[l](s),{c(){e=v("div"),t.c(),this.h()},l(i){e=y(i,"DIV",{class:!0});var u=j(e);t.l(u),u.forEach(h),this.h()},h(){g(e,"class","flex items-center justify-center text-center")},m(i,u){$(i,e,u),n[l].m(e,null),r=!0},p(i,u){let c=l;l=o(i),l!==c&&(Z(),B(n[c],1,1,()=>{n[c]=null}),x(),t=n[l],t||(t=n[l]=a[l](i),t.c()),D(t,1),t.m(e,null))},i(i){r||(D(t),r=!0)},o(i){B(t),r=!1},d(i){i&&h(e),n[l].d()}}}function rt(s){let e,l;return e=new He({props:{color:"red"}}),{c(){te(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,r){re(e,t,r),l=!0},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){se(e,t)}}}function st(s){let e,l;return e=new Je({props:{color:"green"}}),{c(){te(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,r){re(e,t,r),l=!0},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){se(e,t)}}}function at(s){let e,l,t,r,a,n,o,i,u,c=s[2].awayScore+"",f,d,_,m,p,b=s[2].homeScore+"",U,I,M,N,z;function Q(k,S){return k[2].link!==null?Re:Qe}let T=Q(s),E=T(s);function W(k,S){return k[3]?Ze:Ye}let O=W(s),q=O(s);function ue(k,S){return k[3]?et:xe}let ae=ue(s),A=ae(s),P=s[4]&&pe(s),C=s[2].final&&ke(s);return{c(){e=v("div"),E.c(),l=V(),t=v("p"),r=L(s[13]),a=V(),n=v("div"),o=v("div"),q.c(),i=V(),u=v("p"),f=L(c),d=V(),_=v("div"),A.c(),m=V(),p=v("p"),U=L(b),I=V(),M=v("div"),P&&P.c(),N=V(),C&&C.c(),this.h()},l(k){e=y(k,"DIV",{class:!0});var S=j(e);E.l(S),l=G(S),t=y(S,"P",{class:!0});var me=j(t);r=H(me,s[13]),me.forEach(h),a=G(S),n=y(S,"DIV",{class:!0});var ne=j(n);o=y(ne,"DIV",{});var ie=j(o);q.l(ie),i=G(ie),u=y(ie,"P",{});var _e=j(u);f=H(_e,c),_e.forEach(h),ie.forEach(h),d=G(ne),_=y(ne,"DIV",{});var oe=j(_);A.l(oe),m=G(oe),p=y(oe,"P",{});var de=j(p);U=H(de,b),de.forEach(h),oe.forEach(h),ne.forEach(h),I=G(S),M=y(S,"DIV",{class:!0});var he=j(M);P&&P.l(he),he.forEach(h),N=G(S),C&&C.l(S),S.forEach(h),this.h()},h(){g(t,"class","text-center"),g(n,"class","flex space-x-4 items-center justify-center text-center"),g(M,"class","flex space-x-2 items-center justify-center"),g(e,"class","max-w-sm mx-auto mt-12 border-black rounded-lg border-solid border p-4 space-y-2")},m(k,S){$(k,e,S),E.m(e,null),w(e,l),w(e,t),w(t,r),w(e,a),w(e,n),w(n,o),q.m(o,null),w(o,i),w(o,u),w(u,f),w(n,d),w(n,_),A.m(_,null),w(_,m),w(_,p),w(p,U),w(e,I),w(e,M),P&&P.m(M,null),w(e,N),C&&C.m(e,null),z=!0},p(k,[S]){T===(T=Q(k))&&E?E.p(k,S):(E.d(1),E=T(k),E&&(E.c(),E.m(e,l))),O===(O=W(k))&&q?q.p(k,S):(q.d(1),q=O(k),q&&(q.c(),q.m(o,i))),(!z||S&4)&&c!==(c=k[2].awayScore+"")&&Y(f,c),ae===(ae=ue(k))&&A?A.p(k,S):(A.d(1),A=ae(k),A&&(A.c(),A.m(_,m))),(!z||S&4)&&b!==(b=k[2].homeScore+"")&&Y(U,b),k[4]?P?P.p(k,S):(P=pe(k),P.c(),P.m(M,null)):P&&(P.d(1),P=null),k[2].final?C?(C.p(k,S),S&4&&D(C,1)):(C=ke(k),C.c(),D(C,1),C.m(e,null)):C&&(Z(),B(C,1,1,()=>{C=null}),x())},i(k){z||(D(C),z=!0)},o(k){B(C),z=!1},d(k){k&&h(e),E.d(),q.d(),A.d(),P&&P.d(),C&&C.d()}}}const ve="hover:border-green-500 hover:border-dashed hover:border-8",ye="border-green-500 border-8";function nt(s,e,l){let{game:t}=e,{selected:r=t.pick}=e,{selectable:a=!1}=e,{isSpread:n}=e;const o=K[t.home],i=`/img/logos/svg/${t.home}.svg`,u=K[t.away],c=`/img/logos/svg/${t.away}.svg`,f=`${u} at ${o}`;let{spread:d=t.spread}=e;const _=Le(t.date);let m=null,p="",b="";const U=()=>l(0,r=t.away),I=()=>l(0,r=t.home);function M(){d=Oe(this.value),l(1,d)}return s.$$set=N=>{"game"in N&&l(2,t=N.game),"selected"in N&&l(0,r=N.selected),"selectable"in N&&l(3,a=N.selectable),"isSpread"in N&&l(4,n=N.isSpread),"spread"in N&&l(1,d=N.spread)},s.$$.update=()=>{s.$$.dirty&77&&(l(6,m=t.awayScore>t.homeScore?t.away:t.homeScore>t.awayScore?t.home:null),l(7,p=`${a?ve:""} ${r==t.away?ye:"border-transparent"} transition-colors duration-300 ${m!==null&&m!==t.away?"grayscale":""}`),l(8,b=`${a?ve:""} ${r==t.home?ye:"border-transparent"} transition-colors duration-300 ${m!==null&&m!==t.home?"grayscale":""}`))},[r,d,t,a,n,f,m,p,b,o,i,u,c,_,U,I,M]}class it extends Ge{constructor(e){super(),Be(this,e,nt,at,Me,{game:2,selected:0,selectable:3,isSpread:4,name:5,spread:1})}get game(){return this.$$.ctx[2]}set game(e){this.$$set({game:e}),R()}get selected(){return this.$$.ctx[0]}set selected(e){this.$$set({selected:e}),R()}get selectable(){return this.$$.ctx[3]}set selectable(e){this.$$set({selectable:e}),R()}get isSpread(){return this.$$.ctx[4]}set isSpread(e){this.$$set({isSpread:e}),R()}get name(){return this.$$.ctx[5]}get spread(){return this.$$.ctx[1]}set spread(e){this.$$set({spread:e}),R()}}function we(s,e,l){const t=s.slice();return t[15]=e[l],t}function $e(s,e,l){const t=s.slice();return t[18]=e[l],t[19]=e,t[20]=l,t}function Se(s,e,l){const t=s.slice();return t[21]=e[l],t}function Ee(s){let e,l,t,r,a=[],n=new Map,o,i;l=new Fe({props:{justify:"justify-center",$$slots:{default:[ct]},$$scope:{ctx:s}}});let u=F(s[0][s[1]].games);const c=d=>d[18].id;for(let d=0;d<u.length;d+=1){let _=$e(s,u,d),m=c(_);n.set(m,a[d]=Ie(m,_))}let f=s[0][s[1]].byes.length>0&&Ne(s);return{c(){e=v("div"),te(l.$$.fragment),t=V(),r=v("div");for(let d=0;d<a.length;d+=1)a[d].c();o=V(),f&&f.c(),this.h()},l(d){e=y(d,"DIV",{});var _=j(e);le(l.$$.fragment,_),_.forEach(h),t=G(d),r=y(d,"DIV",{class:!0});var m=j(r);for(let p=0;p<a.length;p+=1)a[p].l(m);o=G(m),f&&f.l(m),m.forEach(h),this.h()},h(){g(r,"class","flex flex-wrap gap-x-10 gap-y-4")},m(d,_){$(d,e,_),re(l,e,null),$(d,t,_),$(d,r,_);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(r,null);w(r,o),f&&f.m(r,null),i=!0},p(d,_){const m={};_&16777223&&(m.$$scope={dirty:_,ctx:d}),l.$set(m),_&27&&(u=F(d[0][d[1]].games),Z(),a=Ae(a,_,c,1,d,u,n,r,ze,Ie,o,$e),x()),d[0][d[1]].byes.length>0?f?f.p(d,_):(f=Ne(d),f.c(),f.m(r,null)):f&&(f.d(1),f=null)},i(d){if(!i){D(l.$$.fragment,d);for(let _=0;_<u.length;_+=1)D(a[_]);i=!0}},o(d){B(l.$$.fragment,d);for(let _=0;_<a.length;_+=1)B(a[_]);i=!1},d(d){d&&(h(e),h(t),h(r)),se(l);for(let _=0;_<a.length;_+=1)a[_].d();f&&f.d()}}}function ot(s){let e=s[21]+"",l;return{c(){l=L(e)},l(t){l=H(t,e)},m(t,r){$(t,l,r)},p(t,r){r&4&&e!==(e=t[21]+"")&&Y(l,e)},d(t){t&&h(l)}}}function Ce(s){let e,l,t;function r(n){s[9](n)}let a={name:`Week ${s[21]}`,value:s[21],$$slots:{default:[ot]},$$scope:{ctx:s}};return s[1]!==void 0&&(a.group=s[1]),e=new Ke({props:a}),Ve.push(()=>qe(e,"group",r)),{c(){te(e.$$.fragment)},l(n){le(e.$$.fragment,n)},m(n,o){re(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.name=`Week ${n[21]}`),o&4&&(i.value=n[21]),o&16777220&&(i.$$scope={dirty:o,ctx:n}),!l&&o&2&&(l=!0,i.group=n[1],We(()=>l=!1)),e.$set(i)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function je(s){let e,l="Submit",t,r;return{c(){e=v("button"),e.textContent=l,this.h()},l(a){e=y(a,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-18c67t2"&&(e.textContent=l),this.h()},h(){g(e,"class","btn w-16 text-center rounded-lg variant-filled-surface")},m(a,n){$(a,e,n),t||(r=ee(e,"click",s[11]),t=!0)},p:Pe,d(a){a&&h(e),t=!1,r()}}}function ct(s){let e,l,t,r="Update",a,n=ce(s[0][s[1]].games[0].date),o,i,u,c=F(Array.from({length:s[2]},De)),f=[];for(let m=0;m<c.length;m+=1)f[m]=Ce(Se(s,c,m));const d=m=>B(f[m],1,1,()=>{f[m]=null});let _=n&&je(s);return{c(){for(let m=0;m<f.length;m+=1)f[m].c();e=V(),l=v("div"),t=v("button"),t.textContent=r,a=V(),_&&_.c(),this.h()},l(m){for(let b=0;b<f.length;b+=1)f[b].l(m);e=G(m),l=y(m,"DIV",{});var p=j(l);t=y(p,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-dnxctr"&&(t.textContent=r),a=G(p),_&&_.l(p),p.forEach(h),this.h()},h(){g(t,"class","btn w-16 text-center rounded-lg variant-filled-surface")},m(m,p){for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(m,p);$(m,e,p),$(m,l,p),w(l,t),w(l,a),_&&_.m(l,null),o=!0,i||(u=ee(t,"click",s[10]),i=!0)},p(m,p){if(p&6){c=F(Array.from({length:m[2]},De));let b;for(b=0;b<c.length;b+=1){const U=Se(m,c,b);f[b]?(f[b].p(U,p),D(f[b],1)):(f[b]=Ce(U),f[b].c(),D(f[b],1),f[b].m(e.parentNode,e))}for(Z(),b=c.length;b<f.length;b+=1)d(b);x()}p&3&&(n=ce(m[0][m[1]].games[0].date)),n?_?_.p(m,p):(_=je(m),_.c(),_.m(l,null)):_&&(_.d(1),_=null)},i(m){if(!o){for(let p=0;p<c.length;p+=1)D(f[p]);o=!0}},o(m){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)B(f[p]);o=!1},d(m){m&&(h(e),h(l)),Ue(f,m),_&&_.d(),i=!1,u()}}}function Ie(s,e){let l,t,r=e[18],a;const n=()=>e[12](t,r),o=()=>e[12](null,r);let i={game:e[18],isSpread:e[4].includes(e[18].id),selectable:ce(e[0][e[1]].games[0].date)};return t=new it({props:i}),n(),{key:s,first:null,c(){l=X(),te(t.$$.fragment),this.h()},l(u){l=X(),le(t.$$.fragment,u),this.h()},h(){this.first=l},m(u,c){$(u,l,c),re(t,u,c),a=!0},p(u,c){e=u,r!==e[18]&&(o(),r=e[18],n());const f={};c&3&&(f.game=e[18]),c&3&&(f.isSpread=e[4].includes(e[18].id)),c&3&&(f.selectable=ce(e[0][e[1]].games[0].date)),t.$set(f)},i(u){a||(D(t.$$.fragment,u),a=!0)},o(u){B(t.$$.fragment,u),a=!1},d(u){u&&h(l),o(),se(t,u)}}}function Ne(s){let e,l,t="Bye teams",r,a,n=F(s[0][s[1]].byes),o=[];for(let i=0;i<n.length;i+=1)o[i]=Te(we(s,n,i));return{c(){e=v("div"),l=v("h1"),l.textContent=t,r=V(),a=v("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=y(i,"DIV",{class:!0});var u=j(e);l=y(u,"H1",{"data-svelte-h":!0}),fe(l)!=="svelte-9rllos"&&(l.textContent=t),r=G(u),a=y(u,"DIV",{class:!0});var c=j(a);for(let f=0;f<o.length;f+=1)o[f].l(c);c.forEach(h),u.forEach(h),this.h()},h(){g(a,"class","grid grid-flow-col grid-rows-2"),g(e,"class","max-w-sm mx-auto mt-12 border-black rounded-lg border-dashed border-4 p-4 space-y-2 text-center")},m(i,u){$(i,e,u),w(e,l),w(e,r),w(e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,null)},p(i,u){if(u&3){n=F(i[0][i[1]].byes);let c;for(c=0;c<n.length;c+=1){const f=we(i,n,c);o[c]?o[c].p(f,u):(o[c]=Te(f),o[c].c(),o[c].m(a,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(i){i&&h(e),Ue(o,i)}}}function Te(s){let e,l,t;return{c(){e=v("img"),this.h()},l(r){e=y(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){J(e.src,l=`/img/logos/svg/${s[15]}.svg`)||g(e,"src",l),g(e,"alt",t=K[s[15]]+" logo"),g(e,"class","w-20 h-20 object-contain")},m(r,a){$(r,e,a)},p(r,a){a&3&&!J(e.src,l=`/img/logos/svg/${r[15]}.svg`)&&g(e,"src",l),a&3&&t!==(t=K[r[15]]+" logo")&&g(e,"alt",t)},d(r){r&&h(e)}}}function ft(s){let e,l,t=s[0]&&Ee(s);return{c(){t&&t.c(),e=X()},l(r){t&&t.l(r),e=X()},m(r,a){t&&t.m(r,a),$(r,e,a),l=!0},p(r,[a]){r[0]?t?(t.p(r,a),a&1&&D(t,1)):(t=Ee(r),t.c(),D(t,1),t.m(e.parentNode,e)):t&&(Z(),B(t,1,1,()=>{t=null}),x())},i(r){l||(D(t),l=!0)},o(r){B(t),l=!1},d(r){r&&h(e),t&&t.d(r)}}}const De=(s,e)=>e+1;function ut(s,e,l){let{data:t}=e;const r=Xe();let{league:a,weeks:n,currentWeek:o}=t,i=o,u=Math.min(o+1,Math.max(...Object.keys(n).map(Number))),c=a.spreadGames,f={};async function d(){let I=n[i].games.map(T=>T.id),M=[],N=[],z={};if(I.forEach(T=>{let E=f[T];if(E===void 0)throw new Error(`Couldn't find the component for game ${T}`);let W=E.selected,O=E.spread;if(W===void 0||O===void 0)throw new Error(`Couldn't find the selections for game ${T}`);if(W===null){M.push(E.name);return}if(W==="-1"||W==="-2"){r.trigger({message:"Can't pick placeholder team. Ignoring.",timeout:3e3,background:"variant-filled-error"});return}if(E.isSpread&&O===null){N.push(E.name);return}z[T]={selected:W,spread:O}}),M.length>0||N.length>0){let T="";M.length>0&&(T+=`Please select a team for the following games: ${M.join(", ")}.`),N.length>0&&(T+=`Please select a spread for the following games: ${N.join(", ")}.`),T+="Make sure you scroll to the bottom!",r.trigger({message:T,timeout:15e3,background:"variant-filled-error"});return}let Q=await fetch("/private/picks",{method:"post",body:JSON.stringify({leagueId:a.id,selections:z})});if(!Q.ok){r.trigger({message:await Q.text(),timeout:15e3,background:"variant-filled-error"});return}for(const[T,E]of Object.entries(z))l(0,n[i].games=n[i].games.map(W=>{let O=W;return W.id===T&&(O.pick=E.selected,O.spread=E.spread),O}),n);r.trigger({message:"Success! Picks updated.",timeout:3e3,background:"variant-filled-success"})}async function _(){let I=await fetch(`/private/updates?leagueId=${a.id}`);if(!I.ok){r.trigger({message:await I.text(),timeout:15e3,background:"variant-filled-error"});return}l(0,{league:a,weeks:n,currentWeek:o}=await I.json(),n,l(8,o))}function m(I){i=I,l(1,i)}const p=async()=>await _(),b=async()=>await d();function U(I,M){Ve[I?"unshift":"push"](()=>{f[M.id]=I,l(3,f)})}return s.$$set=I=>{"data"in I&&l(7,t=I.data)},s.$$.update=()=>{s.$$.dirty&257&&l(2,u=Math.min(o+1,Math.max(...Object.keys(n).map(Number))))},[n,i,u,f,c,d,_,t,o,m,p,b,U]}class bt extends Ge{constructor(e){super(),Be(this,e,ut,ft,Me,{data:7})}}export{bt as component};
