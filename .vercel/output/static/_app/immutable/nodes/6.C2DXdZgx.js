import{s as Ae,e as U,b as Le,d as Re,n as Oe}from"../chunks/scheduler.hKD0eBq_.js";import{S as ze,i as Fe,x as R,d as S,t as O,a as A,y as te,f as _,e as k,h as ce,s as j,c as b,j as E,l as ue,k as G,g as ee,b as w,n as _e,m as d,z as le,o as de,A as Be,q as qe,r as M,u as V,B as Y,p as Ue}from"../chunks/index.CuVcAe-p.js";import{e as q,u as pe,d as ke,o as Xe}from"../chunks/each.BNEHTTNV.js";import{g as Ye}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.1kozmAgv.js";import{T as Je,a as Ke}from"../chunks/Tab.BApwU2Qd.js";import{s as be,t as X,C as Qe,X as Ze}from"../chunks/x.7a-Yn-t5.js";function we(o,e,r){const t=o.slice();return t[15]=e[r],t}function ye(o,e,r){const t=o.slice();return t[18]=e[r],t}function Se(o,e,r){const t=o.slice();return t[18]=e[r],t}function Ee(o,e,r){const t=o.slice();return t[18]=e[r],t}function $e(o,e,r){const t=o.slice();return t[25]=e[r],t}function Te(o){let e,r,t,i,a,l,s,n,f,c=[],u=new Map,g,p,T="Week",I,P,L="Total",$,N,m,v,W="Result",J,B=[],F=new Map,K,ie,he,se,me,ae;r=new Je({props:{justify:"justify-center",$$slots:{default:[et]},$$scope:{ctx:o}}});let oe=q(o[1][o[4]].games);const ge=h=>h[18].id;for(let h=0;h<oe.length;h+=1){let y=Ee(o,oe,h),C=ge(y);u.set(C,c[h]=Ne(C,y))}let ne=q(o[1][o[4]].games);const ve=h=>h[18].id;for(let h=0;h<ne.length;h+=1){let y=Se(o,ne,h),C=ve(y);F.set(C,B[h]=De(C,y))}let x=q(o[2]),D=[];for(let h=0;h<x.length;h+=1)D[h]=Ve(we(o,x,h));const We=h=>A(D[h],1,1,()=>{D[h]=null});return{c(){e=k("div"),ce(r.$$.fragment),t=j(),i=k("div"),a=k("table"),l=k("thead"),s=k("tr"),n=k("th"),f=j();for(let h=0;h<c.length;h+=1)c[h].c();g=j(),p=k("th"),p.textContent=T,I=j(),P=k("th"),P.textContent=L,$=j(),N=k("tbody"),m=k("tr"),v=k("th"),v.textContent=W,J=j();for(let h=0;h<B.length;h+=1)B[h].c();K=j(),ie=k("th"),he=j(),se=k("th"),me=j();for(let h=0;h<D.length;h+=1)D[h].c();this.h()},l(h){e=b(h,"DIV",{});var y=E(e);ue(r.$$.fragment,y),y.forEach(_),t=G(h),i=b(h,"DIV",{class:!0});var C=E(i);a=b(C,"TABLE",{class:!0});var H=E(a);l=b(H,"THEAD",{});var re=E(l);s=b(re,"TR",{});var Q=E(s);n=b(Q,"TH",{}),E(n).forEach(_),f=G(Q);for(let z=0;z<c.length;z+=1)c[z].l(Q);g=G(Q),p=b(Q,"TH",{class:!0,"data-svelte-h":!0}),ee(p)!=="svelte-1d5aofe"&&(p.textContent=T),I=G(Q),P=b(Q,"TH",{class:!0,"data-svelte-h":!0}),ee(P)!=="svelte-1jvvxg0"&&(P.textContent=L),Q.forEach(_),re.forEach(_),$=G(H),N=b(H,"TBODY",{});var fe=E(N);m=b(fe,"TR",{});var Z=E(m);v=b(Z,"TH",{class:!0,"data-svelte-h":!0}),ee(v)!=="svelte-183khcr"&&(v.textContent=W),J=G(Z);for(let z=0;z<B.length;z+=1)B[z].l(Z);K=G(Z),ie=b(Z,"TH",{}),E(ie).forEach(_),he=G(Z),se=b(Z,"TH",{}),E(se).forEach(_),Z.forEach(_),me=G(fe);for(let z=0;z<D.length;z+=1)D[z].l(fe);fe.forEach(_),H.forEach(_),C.forEach(_),this.h()},h(){w(p,"class","text-center"),w(P,"class","text-center"),w(v,"class","text-center"),w(a,"class","table table-hover text-center"),w(i,"class","table-container")},m(h,y){S(h,e,y),_e(r,e,null),S(h,t,y),S(h,i,y),d(i,a),d(a,l),d(l,s),d(s,n),d(s,f);for(let C=0;C<c.length;C+=1)c[C]&&c[C].m(s,null);d(s,g),d(s,p),d(s,I),d(s,P),d(a,$),d(a,N),d(N,m),d(m,v),d(m,J);for(let C=0;C<B.length;C+=1)B[C]&&B[C].m(m,null);d(m,K),d(m,ie),d(m,he),d(m,se),d(N,me);for(let C=0;C<D.length;C+=1)D[C]&&D[C].m(N,null);ae=!0},p(h,y){const C={};if(y&268435504&&(C.$$scope={dirty:y,ctx:h}),r.$set(C),y&18&&(oe=q(h[1][h[4]].games),c=pe(c,y,ge,1,h,oe,u,s,ke,Ne,g,Ee)),y&26&&(ne=q(h[1][h[4]].games),B=pe(B,y,ve,1,h,ne,F,m,ke,De,K,Se)),y&95){x=q(h[2]);let H;for(H=0;H<x.length;H+=1){const re=we(h,x,H);D[H]?(D[H].p(re,y),O(D[H],1)):(D[H]=Ve(re),D[H].c(),O(D[H],1),D[H].m(N,null))}for(le(),H=x.length;H<D.length;H+=1)We(H);te()}},i(h){if(!ae){O(r.$$.fragment,h);for(let y=0;y<x.length;y+=1)O(D[y]);ae=!0}},o(h){A(r.$$.fragment,h),D=D.filter(Boolean);for(let y=0;y<D.length;y+=1)A(D[y]);ae=!1},d(h){h&&(_(e),_(t),_(i)),de(r);for(let y=0;y<c.length;y+=1)c[y].d();for(let y=0;y<B.length;y+=1)B[y].d();Be(D,h)}}}function xe(o){let e=o[25]+"",r;return{c(){r=M(e)},l(t){r=V(t,e)},m(t,i){S(t,r,i)},p(t,i){i&32&&e!==(e=t[25]+"")&&Y(r,e)},d(t){t&&_(r)}}}function Ce(o){let e,r,t;function i(l){o[9](l)}let a={name:o[25],value:Number(o[25]),$$slots:{default:[xe]},$$scope:{ctx:o}};return o[4]!==void 0&&(a.group=o[4]),e=new Ke({props:a}),Le.push(()=>Ue(e,"group",i)),{c(){ce(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,s){_e(e,l,s),t=!0},p(l,s){const n={};s&32&&(n.name=l[25]),s&32&&(n.value=Number(l[25])),s&268435488&&(n.$$scope={dirty:s,ctx:l}),!r&&s&16&&(r=!0,n.group=l[4],Re(()=>r=!1)),e.$set(n)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function et(o){let e,r,t,i="Update",a,l,s,n=q(Object.keys(o[5])),f=[];for(let u=0;u<n.length;u+=1)f[u]=Ce($e(o,n,u));const c=u=>A(f[u],1,1,()=>{f[u]=null});return{c(){for(let u=0;u<f.length;u+=1)f[u].c();e=j(),r=k("div"),t=k("button"),t.textContent=i,this.h()},l(u){for(let p=0;p<f.length;p+=1)f[p].l(u);e=G(u),r=b(u,"DIV",{});var g=E(r);t=b(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-dnxctr"&&(t.textContent=i),g.forEach(_),this.h()},h(){w(t,"class","btn w-16 text-center rounded-lg variant-filled-surface")},m(u,g){for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(u,g);S(u,e,g),S(u,r,g),d(r,t),a=!0,l||(s=qe(t,"click",o[10]),l=!0)},p(u,g){if(g&48){n=q(Object.keys(u[5]));let p;for(p=0;p<n.length;p+=1){const T=$e(u,n,p);f[p]?(f[p].p(T,g),O(f[p],1)):(f[p]=Ce(T),f[p].c(),O(f[p],1),f[p].m(e.parentNode,e))}for(le(),p=n.length;p<f.length;p+=1)c(p);te()}},i(u){if(!a){for(let g=0;g<n.length;g+=1)O(f[g]);a=!0}},o(u){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)A(f[g]);a=!1},d(u){u&&(_(e),_(r)),Be(f,u),l=!1,s()}}}function Ne(o,e){let r,t,i,a,l,s,n,f="at",c,u,g,p;return{key:o,first:null,c(){r=k("th"),t=k("div"),i=k("img"),s=j(),n=k("p"),n.textContent=f,c=j(),u=k("img"),this.h()},l(T){r=b(T,"TH",{});var I=E(r);t=b(I,"DIV",{class:!0});var P=E(t);i=b(P,"IMG",{src:!0,alt:!0,class:!0}),s=G(P),n=b(P,"P",{"data-svelte-h":!0}),ee(n)!=="svelte-955hmr"&&(n.textContent=f),c=G(P),u=b(P,"IMG",{src:!0,alt:!0,class:!0}),P.forEach(_),I.forEach(_),this.h()},h(){U(i.src,a="/img/logos/svg/"+e[18].away+".svg")||w(i,"src",a),w(i,"alt",l=X[e[18].away]+" logo"),w(i,"class","w-10 h-10"),U(u.src,g="/img/logos/svg/"+e[18].home+".svg")||w(u,"src",g),w(u,"alt",p=X[e[18].home]+" logo"),w(u,"class","w-10 h-10"),w(t,"class","grid grid-rows-3 items-center justify-center text-center"),this.first=r},m(T,I){S(T,r,I),d(r,t),d(t,i),d(t,s),d(t,n),d(t,c),d(t,u)},p(T,I){e=T,I&18&&!U(i.src,a="/img/logos/svg/"+e[18].away+".svg")&&w(i,"src",a),I&18&&l!==(l=X[e[18].away]+" logo")&&w(i,"alt",l),I&18&&!U(u.src,g="/img/logos/svg/"+e[18].home+".svg")&&w(u,"src",g),I&18&&p!==(p=X[e[18].home]+" logo")&&w(u,"alt",p)},d(T){T&&_(r)}}}function tt(o){let e;return{c(){e=k("p")},l(r){e=b(r,"P",{}),E(e).forEach(_)},m(r,t){S(r,e,t)},p:Oe,d(r){r&&_(e)}}}function lt(o){let e;function r(a,l){return a[18].homeScore>a[18].awayScore?st:a[18].awayScore>a[18].homeScore?it:rt}let t=r(o),i=t(o);return{c(){i.c(),e=R()},l(a){i.l(a),e=R()},m(a,l){i.m(a,l),S(a,e,l)},p(a,l){t===(t=r(a))&&i?i.p(a,l):(i.d(1),i=t(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&_(e),i.d(a)}}}function rt(o){let e,r="Tied.";return{c(){e=k("p"),e.textContent=r},l(t){e=b(t,"P",{"data-svelte-h":!0}),ee(e)!=="svelte-5bzt68"&&(e.textContent=r)},m(t,i){S(t,e,i)},p:Oe,d(t){t&&_(e)}}}function it(o){let e,r,t,i,a,l;function s(c,u){return c[18].active?ot:at}let n=s(o),f=n(o);return{c(){e=k("div"),r=k("img"),a=j(),f.c(),l=R(),this.h()},l(c){e=b(c,"DIV",{class:!0});var u=E(e);r=b(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(_),a=G(c),f.l(c),l=R(),this.h()},h(){U(r.src,t="/img/logos/svg/"+o[18].away+".svg")||w(r,"src",t),w(r,"alt",i=X[o[18].away]+" logo"),w(r,"class","w-10 h-10"),w(e,"class","flex items-center justify-center")},m(c,u){S(c,e,u),d(e,r),S(c,a,u),f.m(c,u),S(c,l,u)},p(c,u){u&18&&!U(r.src,t="/img/logos/svg/"+c[18].away+".svg")&&w(r,"src",t),u&18&&i!==(i=X[c[18].away]+" logo")&&w(r,"alt",i),n===(n=s(c))&&f?f.p(c,u):(f.d(1),f=n(c),f&&(f.c(),f.m(l.parentNode,l)))},d(c){c&&(_(e),_(a),_(l)),f.d(c)}}}function st(o){let e,r,t,i,a,l;function s(c,u){return c[18].active?ft:nt}let n=s(o),f=n(o);return{c(){e=k("div"),r=k("img"),a=j(),f.c(),l=R(),this.h()},l(c){e=b(c,"DIV",{class:!0});var u=E(e);r=b(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(_),a=G(c),f.l(c),l=R(),this.h()},h(){U(r.src,t="/img/logos/svg/"+o[18].home+".svg")||w(r,"src",t),w(r,"alt",i=X[o[18].home]+" logo"),w(r,"class","w-10 h-10"),w(e,"class","flex items-center justify-center")},m(c,u){S(c,e,u),d(e,r),S(c,a,u),f.m(c,u),S(c,l,u)},p(c,u){u&18&&!U(r.src,t="/img/logos/svg/"+c[18].home+".svg")&&w(r,"src",t),u&18&&i!==(i=X[c[18].home]+" logo")&&w(r,"alt",i),n===(n=s(c))&&f?f.p(c,u):(f.d(1),f=n(c),f&&(f.c(),f.m(l.parentNode,l)))},d(c){c&&(_(e),_(a),_(l)),f.d(c)}}}function at(o){let e,r,t=o[3].spreadGames.includes(o[18].id)?`(+${o[18].awayScore-o[18].homeScore})`:"",i;return{c(){e=k("p"),r=M("Final "),i=M(t)},l(a){e=b(a,"P",{});var l=E(e);r=V(l,"Final "),i=V(l,t),l.forEach(_)},m(a,l){S(a,e,l),d(e,r),d(e,i)},p(a,l){l&26&&t!==(t=a[3].spreadGames.includes(a[18].id)?`(+${a[18].awayScore-a[18].homeScore})`:"")&&Y(i,t)},d(a){a&&_(e)}}}function ot(o){let e,r,t=o[18].awayScore-o[18].homeScore+"",i,a;return{c(){e=k("p"),r=M("Leading (+"),i=M(t),a=M(")")},l(l){e=b(l,"P",{});var s=E(e);r=V(s,"Leading (+"),i=V(s,t),a=V(s,")"),s.forEach(_)},m(l,s){S(l,e,s),d(e,r),d(e,i),d(e,a)},p(l,s){s&18&&t!==(t=l[18].awayScore-l[18].homeScore+"")&&Y(i,t)},d(l){l&&_(e)}}}function nt(o){let e,r,t=o[3].spreadGames.includes(o[18].id)?`(+${o[18].homeScore-o[18].awayScore})`:"",i;return{c(){e=k("p"),r=M("Final "),i=M(t)},l(a){e=b(a,"P",{});var l=E(e);r=V(l,"Final "),i=V(l,t),l.forEach(_)},m(a,l){S(a,e,l),d(e,r),d(e,i)},p(a,l){l&26&&t!==(t=a[3].spreadGames.includes(a[18].id)?`(+${a[18].homeScore-a[18].awayScore})`:"")&&Y(i,t)},d(a){a&&_(e)}}}function ft(o){let e,r,t=o[18].homeScore-o[18].awayScore+"",i,a;return{c(){e=k("p"),r=M("Leading (+"),i=M(t),a=M(")")},l(l){e=b(l,"P",{});var s=E(e);r=V(s,"Leading (+"),i=V(s,t),a=V(s,")"),s.forEach(_)},m(l,s){S(l,e,s),d(e,r),d(e,i),d(e,a)},p(l,s){s&18&&t!==(t=l[18].homeScore-l[18].awayScore+"")&&Y(i,t)},d(l){l&&_(e)}}}function De(o,e){let r,t;function i(s,n){return s[18].active||s[18].final?lt:tt}let a=i(e),l=a(e);return{key:o,first:null,c(){r=k("th"),t=k("div"),l.c(),this.h()},l(s){r=b(s,"TH",{});var n=E(r);t=b(n,"DIV",{});var f=E(t);l.l(f),f.forEach(_),n.forEach(_),this.h()},h(){this.first=r},m(s,n){S(s,r,n),d(r,t),l.m(t,null)},p(s,n){e=s,a===(a=i(e))&&l?l.p(e,n):(l.d(1),l=a(e),l&&(l.c(),l.m(t,null)))},d(s){s&&_(r),l.d()}}}function je(o){let e,r,t;return{c(){e=k("img"),this.h()},l(i){e=b(i,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){U(e.src,r="/img/logos/svg/"+o[0][o[18].id][o[15].id].pick+".svg")||w(e,"src",r),w(e,"alt",t=X[o[0][o[18].id][o[15].id].pick]+" logo"),w(e,"class","w-8 h-8 mr-1")},m(i,a){S(i,e,a)},p(i,a){a&23&&!U(e.src,r="/img/logos/svg/"+i[0][i[18].id][i[15].id].pick+".svg")&&w(e,"src",r),a&23&&t!==(t=X[i[0][i[18].id][i[15].id].pick]+" logo")&&w(e,"alt",t)},d(i){i&&_(e)}}}function Ge(o){let e,r,t=o[0][o[18].id][o[15].id].spread+"",i,a;return{c(){e=k("p"),r=M("("),i=M(t),a=M(")"),this.h()},l(l){e=b(l,"P",{class:!0});var s=E(e);r=V(s,"("),i=V(s,t),a=V(s,")"),s.forEach(_),this.h()},h(){w(e,"class","text-sm")},m(l,s){S(l,e,s),d(e,r),d(e,i),d(e,a)},p(l,s){s&23&&t!==(t=l[0][l[18].id][l[15].id].spread+"")&&Y(i,t)},d(l){l&&_(e)}}}function Ie(o){let e,r,t,i;const a=[ut,ct],l=[];function s(n,f){return n[6][n[15].id][n[4]].gamesScores[n[18].id]===0?0:1}return r=s(o),t=l[r]=a[r](o),{c(){e=k("div"),t.c(),this.h()},l(n){e=b(n,"DIV",{class:!0});var f=E(e);t.l(f),f.forEach(_),this.h()},h(){w(e,"class","flex items-center justify-center")},m(n,f){S(n,e,f),l[r].m(e,null),i=!0},p(n,f){let c=r;r=s(n),r===c?l[r].p(n,f):(le(),A(l[c],1,1,()=>{l[c]=null}),te(),t=l[r],t?t.p(n,f):(t=l[r]=a[r](n),t.c()),O(t,1),t.m(e,null))},i(n){i||(O(t),i=!0)},o(n){A(t),i=!1},d(n){n&&_(e),l[r].d()}}}function ct(o){let e,r,t=o[3].spreadGames.includes(o[18].id),i,a;e=new Qe({props:{size:24,color:"green"}});let l=t&&Pe(o);return{c(){ce(e.$$.fragment),r=j(),l&&l.c(),i=R()},l(s){ue(e.$$.fragment,s),r=G(s),l&&l.l(s),i=R()},m(s,n){_e(e,s,n),S(s,r,n),l&&l.m(s,n),S(s,i,n),a=!0},p(s,n){n&26&&(t=s[3].spreadGames.includes(s[18].id)),t?l?l.p(s,n):(l=Pe(s),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i(s){a||(O(e.$$.fragment,s),a=!0)},o(s){A(e.$$.fragment,s),a=!1},d(s){s&&(_(r),_(i)),de(e,s),l&&l.d(s)}}}function ut(o){let e,r,t=o[3].spreadGames.includes(o[18].id),i,a;e=new Ze({props:{size:24,color:"red"}});let l=t&&He();return{c(){ce(e.$$.fragment),r=j(),l&&l.c(),i=R()},l(s){ue(e.$$.fragment,s),r=G(s),l&&l.l(s),i=R()},m(s,n){_e(e,s,n),S(s,r,n),l&&l.m(s,n),S(s,i,n),a=!0},p(s,n){n&26&&(t=s[3].spreadGames.includes(s[18].id)),t?l||(l=He(),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i(s){a||(O(e.$$.fragment,s),a=!0)},o(s){A(e.$$.fragment,s),a=!1},d(s){s&&(_(r),_(i)),de(e,s),l&&l.d(s)}}}function Pe(o){let e,r,t=o[6][o[15].id][o[4]].gamesScores[o[18].id]-1+"",i,a;return{c(){e=k("span"),r=M("(+"),i=M(t),a=M(")"),this.h()},l(l){e=b(l,"SPAN",{class:!0});var s=E(e);r=V(s,"(+"),i=V(s,t),a=V(s,")"),s.forEach(_),this.h()},h(){w(e,"class","ml-1 text-xs")},m(l,s){S(l,e,s),d(e,r),d(e,i),d(e,a)},p(l,s){s&86&&t!==(t=l[6][l[15].id][l[4]].gamesScores[l[18].id]-1+"")&&Y(i,t)},d(l){l&&_(e)}}}function He(o){let e,r="(+0)";return{c(){e=k("span"),e.textContent=r,this.h()},l(t){e=b(t,"SPAN",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1u7ka5j"&&(e.textContent=r),this.h()},h(){w(e,"class","ml-1 text-xs")},m(t,i){S(t,e,i)},d(t){t&&_(e)}}}function Me(o,e){let r,t,i,a,l,s,n=e[0][e[18].id][e[15].id]!==void 0&&e[0][e[18].id][e[15].id].pick!==void 0&&je(e),f=e[0][e[18].id][e[15].id]!==void 0&&e[0][e[18].id][e[15].id].spread&&Ge(e),c=(e[18].active||e[18].final)&&Ie(e);return{key:o,first:null,c(){r=k("td"),t=k("div"),i=k("div"),n&&n.c(),a=j(),f&&f.c(),l=j(),c&&c.c(),this.h()},l(u){r=b(u,"TD",{});var g=E(r);t=b(g,"DIV",{class:!0});var p=E(t);i=b(p,"DIV",{class:!0});var T=E(i);n&&n.l(T),a=G(T),f&&f.l(T),T.forEach(_),l=G(p),c&&c.l(p),p.forEach(_),g.forEach(_),this.h()},h(){w(i,"class","flex items-center justify-center"),w(t,"class","flex flex-col items-center justify-center space-y-1"),this.first=r},m(u,g){S(u,r,g),d(r,t),d(t,i),n&&n.m(i,null),d(i,a),f&&f.m(i,null),d(t,l),c&&c.m(t,null),s=!0},p(u,g){e=u,e[0][e[18].id][e[15].id]!==void 0&&e[0][e[18].id][e[15].id].pick!==void 0?n?n.p(e,g):(n=je(e),n.c(),n.m(i,a)):n&&(n.d(1),n=null),e[0][e[18].id][e[15].id]!==void 0&&e[0][e[18].id][e[15].id].spread?f?f.p(e,g):(f=Ge(e),f.c(),f.m(i,null)):f&&(f.d(1),f=null),e[18].active||e[18].final?c?(c.p(e,g),g&18&&O(c,1)):(c=Ie(e),c.c(),O(c,1),c.m(t,null)):c&&(le(),A(c,1,1,()=>{c=null}),te())},i(u){s||(O(c),s=!0)},o(u){A(c),s=!1},d(u){u&&_(r),n&&n.d(),f&&f.d(),c&&c.d()}}}function Ve(o){let e,r,t=o[15].name+"",i,a,l=[],s=new Map,n,f,c=o[6][o[15].id][o[4]].week+"",u,g,p,T=o[6][o[15].id][o[4]].cumulative+"",I,P,L,$=q(o[1][o[4]].games);const N=m=>m[18].id;for(let m=0;m<$.length;m+=1){let v=ye(o,$,m),W=N(v);s.set(W,l[m]=Me(W,v))}return{c(){e=k("tr"),r=k("th"),i=M(t),a=j();for(let m=0;m<l.length;m+=1)l[m].c();n=j(),f=k("td"),u=M(c),g=j(),p=k("td"),I=M(T),P=j()},l(m){e=b(m,"TR",{});var v=E(e);r=b(v,"TH",{});var W=E(r);i=V(W,t),W.forEach(_),a=G(v);for(let F=0;F<l.length;F+=1)l[F].l(v);n=G(v),f=b(v,"TD",{});var J=E(f);u=V(J,c),J.forEach(_),g=G(v),p=b(v,"TD",{});var B=E(p);I=V(B,T),B.forEach(_),P=G(v),v.forEach(_)},m(m,v){S(m,e,v),d(e,r),d(r,i),d(e,a);for(let W=0;W<l.length;W+=1)l[W]&&l[W].m(e,null);d(e,n),d(e,f),d(f,u),d(e,g),d(e,p),d(p,I),d(e,P),L=!0},p(m,v){(!L||v&4)&&t!==(t=m[15].name+"")&&Y(i,t),v&95&&($=q(m[1][m[4]].games),le(),l=pe(l,v,N,1,m,$,s,e,Xe,Me,n,ye),te()),(!L||v&84)&&c!==(c=m[6][m[15].id][m[4]].week+"")&&Y(u,c),(!L||v&84)&&T!==(T=m[6][m[15].id][m[4]].cumulative+"")&&Y(I,T)},i(m){if(!L){for(let v=0;v<$.length;v+=1)O(l[v]);L=!0}},o(m){for(let v=0;v<l.length;v+=1)A(l[v]);L=!1},d(m){m&&_(e);for(let v=0;v<l.length;v+=1)l[v].d()}}}function _t(o){let e,r,t=o[1]&&Te(o);return{c(){t&&t.c(),e=R()},l(i){t&&t.l(i),e=R()},m(i,a){t&&t.m(i,a),S(i,e,a),r=!0},p(i,[a]){i[1]?t?(t.p(i,a),a&2&&O(t,1)):(t=Te(i),t.c(),O(t,1),t.m(e.parentNode,e)):t&&(le(),A(t,1,1,()=>{t=null}),te())},i(i){r||(O(t),r=!0)},o(i){A(t),r=!1},d(i){i&&_(e),t&&t.d(i)}}}function dt(o){let e=o.homeScore>o.awayScore?o.home:o.awayScore>o.homeScore?o.away:null,r=Math.abs(o.homeScore-o.awayScore);return{winner:e,spread:r}}function ht(o,e){if(e===null)return 0;let r=Math.abs(o-e);return r===0?7:r<=4?3:r<=9?2:r<=20?1:0}function mt(o,e,r){let{data:t}=e;const i=Ye();let{gamePicks:a,weeks:l,currentWeek:s,leaguePlayers:n,league:f}=t,c=s,u={};for(const[$,N]of Object.entries(l))be(N.games[0].date)||(u[Number($)]=N,c=Number($));let g=p();function p(){let $={};return n.forEach(N=>{$[N.id]={};let m=0;for(const[v,W]of Object.entries(u)){let J={},B=0;W.games.forEach(F=>{let K=T(F,a[F.id][N.id]);J[F.id]=K,B+=K,m+=K}),$[N.id][Number(v)]={gamesScores:J,week:B,cumulative:m}}}),$}function T($,N){if(N===void 0)return 0;let{winner:m,spread:v}=dt($);return m===null?0:f.spreadGames.includes($.id)?N.pick===m?1+ht(v,N.spread):0:N.pick===m?1:0}async function I(){let $=await fetch(`/private/updates?leagueId=${f.id}`);if(!$.ok){i.trigger({message:await $.text(),timeout:15e3,background:"variant-filled-error"});return}r(0,{gamePicks:a,weeks:l,currentWeek:s,leaguePlayers:n,league:f}=await $.json(),a,r(1,l),r(2,n),r(3,f)),r(5,u={});for(const[N,m]of Object.entries(l))be(m.games[0].date)||r(5,u[Number(N)]=m,u);r(6,g=p())}function P($){c=$,r(4,c)}const L=async()=>await I();return o.$$set=$=>{"data"in $&&r(8,t=$.data)},[a,l,n,f,c,u,g,I,t,P,L]}class yt extends ze{constructor(e){super(),Fe(this,e,mt,_t,Ae,{data:8})}}export{yt as component};
